<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CBTSdpQuery Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>CBTSdpQuery Class Reference</h1><!-- doxytag: class="CBTSdpQuery" --><code>#include &lt;<a class="el" href="btengsdpquery_8h-source.html">btengsdpquery.h</a>&gt;</code>
<p>
<a href="class_c_b_t_sdp_query-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#9518bcbedcad0a097edeed7d8c0e6e12">~CBTSdpQuery</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#063d6a54be8503a5b4c123031db44d1c">QuerySupportedServicesL</a> (const TBTDevAddr &amp;aDevAddr, RArray&lt; TUUID &gt; &amp;aServiceUUIDs, TRequestStatus &amp;aStatus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#99e93300b5cc5eda1e1a0d8fdc65f8bf">QueryServiceAndSupportedFeatureL</a> (const TBTDevAddr &amp;aDevAddr, RArray&lt; <a class="el" href="class_t_b_t_supported_feature.html">TBTSupportedFeature</a> &gt; &amp;aSupportedFeatures, TRequestStatus &amp;aStatus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#66b57a94ddc06f186efdbc589b6d486c">QueryServiceAndAttrIntL</a> (const TBTDevAddr &amp;aAddr, RArray&lt; <a class="el" href="class_t_b_t_sdp_attr_int.html">TBTSdpAttrInt</a> &gt; &amp;aAttrs, TRequestStatus &amp;aStatus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#c7ce23ada166263c6b34385e789d2e09">RemoteSdpQueryL</a> (const TBTDevAddr &amp;aDevAddr, const TUUID &amp;aService, TUint16 aSdpAttributeID, TUint &amp;aResult, TRequestStatus &amp;aStatus)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#e2189f848cc2959e9fbc1eed750564b6">CancelSdpQuery</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#197be75b2da1af7d1878f2d1d9a92c29">SdpQueryCompleted</a> (TInt aErr)</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static IMPORT_C <a class="el" href="class_c_b_t_sdp_query.html">CBTSdpQuery</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_b_t_sdp_query.html#97678ab2ba195e8514d16a160f065f62">NewL</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The wrapper class providing public interfaces for SDP queires 
<p>

<p>
Definition at line <a class="el" href="btengsdpquery_8h-source.html#l00057">57</a> of file <a class="el" href="btengsdpquery_8h-source.html">btengsdpquery.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="9518bcbedcad0a097edeed7d8c0e6e12"></a><!-- doxytag: member="CBTSdpQuery::~CBTSdpQuery" ref="9518bcbedcad0a097edeed7d8c0e6e12" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CBTSdpQuery::~CBTSdpQuery           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="97678ab2ba195e8514d16a160f065f62"></a><!-- doxytag: member="CBTSdpQuery::NewL" ref="97678ab2ba195e8514d16a160f065f62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static IMPORT_C <a class="el" href="class_c_b_t_sdp_query.html">CBTSdpQuery</a>* CBTSdpQuery::NewL           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Two-phased constructor. 
</div>
</div><p>
<a class="anchor" name="063d6a54be8503a5b4c123031db44d1c"></a><!-- doxytag: member="CBTSdpQuery::QuerySupportedServicesL" ref="063d6a54be8503a5b4c123031db44d1c" args="(const TBTDevAddr &amp;aDevAddr, RArray&lt; TUUID &gt; &amp;aServiceUUIDs, TRequestStatus &amp;aStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IMPORT_C void CBTSdpQuery::QuerySupportedServicesL           </td>
          <td>(</td>
          <td class="paramtype">const TBTDevAddr &amp;&nbsp;</td>
          <td class="paramname"> <em>aDevAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RArray&lt; TUUID &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>aServiceUUIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TRequestStatus &amp;&nbsp;</td>
          <td class="paramname"> <em>aStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queries the supported BT services (profiles) in a remote BT device. Only one query is allowed at a time.<p>
The completion status will be written to TRequestStatus. On a successful completion, aServiceArray contains the supported services only and all not supported services will be removed from the array. aServiceArray remains unchanged if the query fails.<p>
Leave with KErrInUse if there is an ongoing query already, or an SPD error from lower level<p>
Using <a class="el" href="class_c_b_t_sdp_query.html#e2189f848cc2959e9fbc1eed750564b6">CancelSdpQuery()</a> to cancel this operation.<p>
Parameters: <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aDevAddr</em>&nbsp;</td><td>The remote device address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aServiceUUIDs</em>&nbsp;</td><td>Input: a list of service UUIDs to be queried Output: supported BT service UUIDs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aStatus</em>&nbsp;</td><td>TRequestStatus instance for asynchronous connecting. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="99e93300b5cc5eda1e1a0d8fdc65f8bf"></a><!-- doxytag: member="CBTSdpQuery::QueryServiceAndSupportedFeatureL" ref="99e93300b5cc5eda1e1a0d8fdc65f8bf" args="(const TBTDevAddr &amp;aDevAddr, RArray&lt; TBTSupportedFeature &gt; &amp;aSupportedFeatures, TRequestStatus &amp;aStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IMPORT_C void CBTSdpQuery::QueryServiceAndSupportedFeatureL           </td>
          <td>(</td>
          <td class="paramtype">const TBTDevAddr &amp;&nbsp;</td>
          <td class="paramname"> <em>aDevAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RArray&lt; <a class="el" href="class_t_b_t_supported_feature.html">TBTSupportedFeature</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>aSupportedFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TRequestStatus &amp;&nbsp;</td>
          <td class="paramname"> <em>aStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queries the BT services (profiles) in a remote BT device and the supported features.<p>
The completion status will be written to TRequestStatus. On a successful completion, aServiceArray contains the supported services and the corresponding requested attribute values. and all not supported services will be removed from the array. aServiceArray remains unchanged if the query fails.<p>
Leave with KErrInUse if there is an ongoing query already, or an SPD error from lower level<p>
Using <a class="el" href="class_c_b_t_sdp_query.html#e2189f848cc2959e9fbc1eed750564b6">CancelSdpQuery()</a> to cancel this operation.<p>
Parameters: <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aDevAddr</em>&nbsp;</td><td>The remote device address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aSupportedFeatures</em>&nbsp;</td><td>Input: a list of service UUIDs and supported features to be queried Output: supported BT service UUIDs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aStatus</em>&nbsp;</td><td>TRequestStatus instance for asynchronous connecting. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="66b57a94ddc06f186efdbc589b6d486c"></a><!-- doxytag: member="CBTSdpQuery::QueryServiceAndAttrIntL" ref="66b57a94ddc06f186efdbc589b6d486c" args="(const TBTDevAddr &amp;aAddr, RArray&lt; TBTSdpAttrInt &gt; &amp;aAttrs, TRequestStatus &amp;aStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IMPORT_C void CBTSdpQuery::QueryServiceAndAttrIntL           </td>
          <td>(</td>
          <td class="paramtype">const TBTDevAddr &amp;&nbsp;</td>
          <td class="paramname"> <em>aAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RArray&lt; <a class="el" href="class_t_b_t_sdp_attr_int.html">TBTSdpAttrInt</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>aAttrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TRequestStatus &amp;&nbsp;</td>
          <td class="paramname"> <em>aStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queries a list of integer type attributes.<p>
The completion status will be written to TRequestStatus. On a successful completion, aAttrs contains the discovered services. If the service record is found, but the specified attribute is not, the atrribute value is 0. And any not found services are removed from the array.<p>
Leave with KErrInUse if there is an ongoing query already, or an SPD error from lower level<p>
Using <a class="el" href="class_c_b_t_sdp_query.html#e2189f848cc2959e9fbc1eed750564b6">CancelSdpQuery()</a> to cancel this operation.<p>
Parameters: <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aAddr</em>&nbsp;</td><td>The remote device address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aAttrs</em>&nbsp;</td><td>Input: a list of attributes to be queried Output: Discovered attributes and their values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aStatus</em>&nbsp;</td><td>TRequestStatus instance for asynchronous connecting. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c7ce23ada166263c6b34385e789d2e09"></a><!-- doxytag: member="CBTSdpQuery::RemoteSdpQueryL" ref="c7ce23ada166263c6b34385e789d2e09" args="(const TBTDevAddr &amp;aDevAddr, const TUUID &amp;aService, TUint16 aSdpAttributeID, TUint &amp;aResult, TRequestStatus &amp;aStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IMPORT_C void CBTSdpQuery::RemoteSdpQueryL           </td>
          <td>(</td>
          <td class="paramtype">const TBTDevAddr &amp;&nbsp;</td>
          <td class="paramname"> <em>aDevAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TUUID &amp;&nbsp;</td>
          <td class="paramname"> <em>aService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TUint16&nbsp;</td>
          <td class="paramname"> <em>aSdpAttributeID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TUint &amp;&nbsp;</td>
          <td class="paramname"> <em>aResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TRequestStatus &amp;&nbsp;</td>
          <td class="paramname"> <em>aStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Queries an attribute whose value type is integer<p>
The completion status will be written to TRequestStatus. On a successful completion, aResult contains the value of the attribute. it remains unchanged if the query fails.<p>
Leave with KErrInUse if there is an ongoing query already, or an SPD error from lower level<p>
Using <a class="el" href="class_c_b_t_sdp_query.html#e2189f848cc2959e9fbc1eed750564b6">CancelSdpQuery()</a> to cancel this operation.<p>
Parameters: <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aDevAddr</em>&nbsp;</td><td>the address of remote device </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aService</em>&nbsp;</td><td>Service to be searched </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TSdpAttributeID</em>&nbsp;</td><td>Attribute value that we want to search </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aResult</em>&nbsp;</td><td>Value of the searched attribute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>aStatus</em>&nbsp;</td><td>TRequestStatus instance for asynchronous connecting. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e2189f848cc2959e9fbc1eed750564b6"></a><!-- doxytag: member="CBTSdpQuery::CancelSdpQuery" ref="e2189f848cc2959e9fbc1eed750564b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IMPORT_C void CBTSdpQuery::CancelSdpQuery           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cancels the query if there is any ongoing. 
</div>
</div><p>
<a class="anchor" name="197be75b2da1af7d1878f2d1d9a92c29"></a><!-- doxytag: member="CBTSdpQuery::SdpQueryCompleted" ref="197be75b2da1af7d1878f2d1d9a92c29" args="(TInt aErr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBTSdpQuery::SdpQueryCompleted           </td>
          <td>(</td>
          <td class="paramtype">TInt&nbsp;</td>
          <td class="paramname"> <em>aErr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called by CBTSdpQueryAlg. Cleanup memory Parameters: <dl class="return" compact><dt><b>Returns:</b></dt><dd>none </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="btengsdpquery_8h-source.html">btengsdpquery.h</a></ul>
<hr><span style="font-size: smaller;">Copyright © Nokia Corporation 2001-2007</span></body></html>
